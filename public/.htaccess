# .htaccess - Cache control for Apache servers

# GitHub Pages ignora isso, mas serve como documentação

# Disable caching for all files by default

<FilesMatch "\.html$">
Header set Cache-Control "no-store, no-cache, must-revalidate, proxy-revalidate"
Header set Pragma "no-cache"
Header set Expires "0"
</FilesMatch>

# Allow caching for assets (they have content hash)

<FilesMatch "\.(js|css|jpg|jpeg|png|gif|ico|svg|woff|woff2|ttf|eot)$">
Header set Cache-Control "public, max-age=31536000, immutable"
</FilesMatch>

# Prevent browser caching of API responses

<FilesMatch "\.(json|xml)$">
Header set Cache-Control "no-store"
</FilesMatch>

# Force HTTPS

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

# Enable gzip compression

<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>
